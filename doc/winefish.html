<HTML>
<!--
$Id$
Winefish Documentation
Format: KTML
Convert: k2h winefish.txt > winefish.html
-->
<HEAD>
<TITLE>Winefish Documentation</TITLE>
<STYLE>
<!--
body { margin: 30px; font-size: 13px; margin-right: 100px; }
b { font-weight: normal; color: navy; font-family: monospace; }
pre {color: olive; border-left: 2px solid navy; padding-left: 10px; }
a, a:visited, a:hover { text-decoration: none; }
a:hover { color: yellow; background-color: black; }
a:visited { color: green; }
-->
</STYLE>
</HEAD>
<BODY>
<H1><a href="http://winefish.berlios.de/">Winefish Documentation</a></H1>

<UL>
<li>Author: kyanh <<a href="kyanh_at_viettug_dot_org">kyanh_at_viettug_dot_org</a>>
<li>This document is available for Winefish version <font color="GREEN"><U>1.3.2-RC1</U></font> or higher.
<li><font color="RED">If you've used an older version of Winefish, you should read <a href="#NEWS">NEWS</a> and <a href="#IMPORTANT NOTES">IMPORTANT NOTES</a></font>
<li>For further help, visit <a href="http://winefish.berlios.de/forum/">http://winefish.berlios.de/forum/</a>
<li>I'm sorry about my English :))<br>
If you find any (spell) mistakes in this document feel free to let me know!</UL>

<H2><a name="CONTENTS">CONTENTS <a href="#top">top</a></H2>

<UL>
<li><a href="#NEWS">News</a>
<li><a href="#FEATURES">Features</a>
<li><a href="#INSTALLATION">Installation</a>
<li><a href="#IMPORTANT NOTES">Important Notes</a>
<li><a href="#INPUT METHOD">Input Method</a>
<li>Hotkeys: <a href="#HOTKEYS: EDITING">editing</a>
<li>Hotkeys: <a href="#HOTKEYS: COMPILING">compiling</a>
<li><a href="#PROJECT MODE">Project Mode</a>
<li><a href="#DOCUMENT STRUCTURE">Document Structure</a>
<li><a href="#AUTOTEXT">Autotext</a>
<li><a href="#AUTO_COMPLETION">AutoCompletion</a>
<li><a href="#COMMANDLINE OPTIONS">Commandline Options</a>
<li><a href="#OUTPUTBOX">Outputbox</a>
<li><a href="#TEMPLATES SUPPORT">Templates Support</a>
<li><a href="#BRACE FINDER">Brace Finder</a>
<li><a href="#TIPS">TIPS</a>
<li><a href="#LOCAL SUPPORT">Local Support</a></UL>

<H2><a name="FEATURES">FEATURES <a href="#top">top</a></H2>

<UL>
<li><a href="#AUTOTEXT">autotext</a>
<li><a href="#AUTO_COMPLETION">autocompletion</a>
<li><a href="#AUTO_COMPLETION">command collector</a>
<li>multiple encoding
<li>configurable external tools
<li>configurable highlight support
<li><a href="#TEMPLATES SUPPORT">templates support</a>
<li><a href="#BRACE FINDER">brace finder</a></UL>

<H2><a name="INSTALLATION">INSTALLATION <a href="#top">top</a></H2>

Read INSTALL
<H2><a name="INPUT METHOD">INPUT METHOD <a href="#top">top</a></H2>

Input Method is not a function of Winefish.
<br><br>
Right click on the document. In the context menu,
goto <B>Input Methods</B> and choose your favorite
input method. These various methods are selected from your
system, not provided by Winefish.
<H2><a name="NEWS">NEWS <a href="#top">top</a></H2>

Some new features:
<UL>
<li>delete directly any command from PopUp menu. See <a href="#AUTO_COMPLETION">AUTO_COMPLETION</a>
<li>outputbox with two useful operations: <B>single-click</B> and <B>control + single-click</B>. See <a href="#OUTPUTBOX">OUTPUTBOX</a>
<li>manage your templates easily with Grep Function. See <a href="#TEMPLATES SUPPORT">TEMPLATES SUPPORT</a>
<li>TeX filter for spell checker
<li><a href="#BRACE FINDER">Brace Finder</a></UL>

<H2><a name="IMPORTANT NOTES">IMPORTANT NOTES <a href="#top">top</a></H2>

Winefish now uses <B>$HOME/.winefish/rcfile</B> to save configuration.
Move the old one <B>$HOME/.winefish/rcfile_v2</B> to <B>$HOME/.winefish/rcfile</B>
manually then reconfigure Winefish (use <B>Preferences Pages</B>.)
Please take care of following properties:
<UL>
<li>Editor / Highlighting Syntax by Default
<li>Files / Create Backup On Save
<li>Users Interface / *
<li>TeXbox / Save, Show
<li>Miscellaneous / Templates Directory</UL>

If you donot move <B>$HOME/.winefish/rcfile_v2</B> to <B>$HOME/.winefish/rcfile</B>,
winefish will start with default setting and of course ignore your old one.
<H2><a name="HOTKEYS: EDITING">HOTKEYS: EDITING <a href="#top">top</a></H2>

<UL>
<li>Start "autocompletion": <B>control + Space</B>
<li>Start "autotext": <B>shift + Space</B>
<li>Update syntax highlighting: <B>meta + Space</B>
<li>Go to a line: <B>control + /</B>
<li>Start a numbered section: <B>control + {0,1,2,3,4,5,6}</B>
<li>Start an unnumbered section: <B>control + meta + {0,1,2,3,4}</B>
<li>Insert an image: <B>control + I</B>
<li>Insert a table or array: <B>control + T</B>
<li>Insert a list: <B>control + L</B>
<li>Insert `verbatim': <B>shift + control + V</B>, <B>shift + control + meta + V</B>
<li>(Un)comment selected text: <B>control + %</B>, <B>control + meta + %</B>
<li>Increase/Decrease Indent: <B>control + ,</B> / <B>control + .</B>
<li>Insert source separator: <B>control + =</B>
<li>Delete the first char of each line in the selected text: <B>control + <</B>
<li>Delete current line: <B>control + K</B>
<li>Templates manager: <B>control + meta + shift + F</B>
<li>Advanced Find in Files: <B>control + meta + F</B>
<li>Brace Finder: <B>control + ]</B>, <B>control + [</B></UL>

<H2><a name="HOTKEYS: COMPILING">HOTKEYS: COMPILING <a href="#top">top</a></H2>

By default, Winefish requires LaTeX, xdvi and xpdf.
You may changes these from <B>Preferences Page</B>.
<UL>
<li>Convert to DVI format: <B>F1</B>
<li>View DVI document (with DVI SYNC): <B>control + F1</B>
<li>Convert to PDF: <B>F2</B>
<li>View PDF document: <B>control + F2</B>
<li>Stop running tools: <B>Escape</B></UL>

If you are working in project mode, by default, the above tools
will start in the base directory and file of the project.
<br><br>
If you want to compile the current document, <B>NOT</B> the
base document of project, you may use <B>control + ESC</B>
to turn project mode ON/OFF, *OR* select menu <B>External/Project Mode</B>
<H2><a name="PROJECT MODE">PROJECT MODE <a href="#top">top</a></H2>

<UL>
<li>Each project requires a <U><font color="GREEN">base directory</font></U> and a <U><font color="GREEN">base file</font></U>
<li>The "base file" <font color="RED">must be located</font> in "base directory"
<li>Project's files should be located in "base directory"</UL>

<H2><a name="DOCUMENT STRUCTURE">DOCUMENT STRUCTURE <a href="#top">top</a></H2>

In order to get the document structure, you may try this:
<UL>
<li>Press <B>control + F</B> to start the search engine
<li>Type <B>exactly</B> the following string
<PRE>^\\(sub){0,2}section.*?$</PRE>
<li>Select PERL type as type (regular expression)
<li>Select Bookmark Results
<li>Press OK.</UL>

<H2><a name="AUTOTEXT">AUTOTEXT <a href="#top">top</a></H2>

If <B>$HOME/.winefish/autotext</B> wasnot modified,
you may try to open a new document, type the string
<B>/tsta</B> then press <B>shift + Space</B>. Other tests are <B>/tstd</B>,
<B>/tstc</B> and <B>/tstd</B>.
<br><br>
You may modify the file <B>$HOME/.winefish/autotext</B>.
<font color="RED">Do not open it in Winefish as Winefish will override your modification when exiting.</font>
The contents are similar to
<PRE>att: /tsta:\\begin{foo\n:\n\\end{foo:
att: /tstb:\\begin{this-is-b\n:\n\\end{this-is-b:
att: /tstc:\\testofsomething::
att: /tstd:: Can you see?:</PRE>
Each line is of the from <PRE>att: /foo:begin:end:</PRE>
where <B>/foo</B> is the new definition which <B>must be started</B> by a slash <B>/</B>.
The string begin will be inserted before the cursor,
the string end will be inserted after the cursor.
<br><br>
Here are some rules:
<UL>
<li>Length of /foo should be at most AUTOTEXT_MAX_LENGTH
(defined in <B>src/config_spec.h</B>)
<li>one of the two strings `begin' and `end' is not NULL.
<li>If foo is defined twice or more, for e.g.,
<li>only the first one is used.
<li><font color="RED"><U>some special characters must be escaped:</U></font>
<UL>
<li><B>\n</B> for the new line
<li><B>\t</B> for a tab
<li><B>\:</B> for a colon
<li><B>\\</B> for the backslash</UL>

<li>You must restart Winefish after modifying.</UL>

<H2><a name="AUTO_COMPLETION">AUTO_COMPLETION <a href="#top">top</a></H2>

Press <B>control + Space</B> to start autocompletion.
You may delete a word from popup menu press <B>Delete</B>,
or from <B>Preferences</B> page.
<br><br>
The words are saved in <B>$HOME/.winefish/words</B>.
<font color="RED">Do not open the file in Winefish as the contents will be overridden when Winefish exists.</font>
<br><br>
When you're typing, Winefish collects LaTeX commands and add them to
list of known words. If there's a bad command, you may `<B>delete</B>'
it directly from PopUp menu.
<br><br>
A command will be added to completion list if its length is:
<UL>
<li>greater than 2
<li>less than or equal COMMAND_MAX_LENGTH (defined in <B>src/config_spec.h</B>)</UL>

You may add commands by using <B>Preferences Pages / AutoX</B> but this is <U>not recommended</U>
as Winefish collects commands automatically and <B>Preferences Pages / AutoX</B> will be
dropped some days;)
<H2><a name="COMMANDLINE OPTIONS">COMMANDLINE OPTIONS <a href="#top">top</a></H2>

<PRE>$ winefish -h
winefish 1.3.2.6 LaTeX editor
Usage: winefish <B>options</B> <B>filenames ...</B>
Currently accepted options are:
-s skip root check
-v current version
-n 0|1 open new window (1) or not (0)
-p filename open project
-l <B>number</B> set line<B>number</B>. Negative value takes no effect.
-h this help screen</PRE>
<H2><a name="OUTPUTBOX">OUTPUTBOX <a href="#top">top</a></H2>

When you start a tool, start `Grep Function' (<B>control + meta + F</B>),
or start listing your templates (<B>control + meta + shift + F</B>),
the results will be shipped out to a Outputbox.
<br><br>
There are some useful operations with Outputbox:
<UL>
<li><font color="GREEN">single-click:</font> open file at specified line
<li><font color="GREEN">right-click:</font> create a popup menu
<li><font color="GREEN">control + click:</font> clone file (create a new file with the same contents)</UL>

You may press <B>shift + Escape</B> to hide/show the Outputbox.
<H2><a name="TEMPLATES SUPPORT">TEMPLATES SUPPORT <a href="#top">top</a></H2>

Go to <B>Preferences Pages / Miscellaneous</B> and specify the directory
which contains your templates. By default, it is <B>$HOME/tex/templates</B>.
<br><br>
The template file is of type <B>*.tex</B> or <B>*.sty</B>.
Each template *MUST* contain the pattern <B>%%wf=</B>.
This helps you writing description for templates. For e.g.,
<PRE>%%wf=this is template file
%%wf=this is the description of template
\documentclass{article}
...</PRE>
To <U>list all your template files</U>, press <B>control + meta + shift + F</B>.
Then press <B>control + click</B> to create a clone file (See <a href="#OUTPUTBOX">OUTPUTBOX</a>)
<br><br>
Winefish doesnot clean up the <B>%%wf=</B> string automatically.
<H2><a name="BRACE FINDER">BRACE FINDER <a href="#top">top</a></H2>

If your editor cursor is placed beside a <font color="GREEN">brace</font>
( <B><font color="RED">$</font></B>, <B><font color="RED">(</font></B>, <B><font color="RED">)</font></B>, <B><font color="RED">{</font></B>, <B><font color="RED">}</font></B>, <B><font color="RED">[</font></B>, <B><font color="RED">]</font></B> ),
you may want to find the matching one. Just press
<B>control + ]</B> (forward) or <B>control + [</B> (backward). Below the rules:
<UL>
<li>escaped characters will be ignored
<li>characters in comment line will be ignored
<li>for $, <B>control + ]</B> starts <I>forward</I>-finding the matched $.
<li>for $, <B>control + [</B> starts <I>backward</I>-finding the matched $.
<li>for other braces:
<UL>
<li><I>forward</I>: start finding the matching for current brace.
<li><I>backward</I>:
<UL>
<li>if the characters on the left hand is a brace too,
start finding the matching for it;
<li>otherwise, treat as <I>forward</I>.</UL>
</UL>

<li>for other characters:
<UL>
<li><I>forward</I>: start finding }
<li><I>backward</I>: start finding the {</UL>
</UL>

The brace finder also <font color="GREEN"><U>starts it jobs automatically</U></font> when you're editing:
the matched braces will be hilighted. For performance reason, the finder
will search in a limited area. The maxium number of lines of this area
is defined via BRACE_FINDER_MAX_LINES (<B>src/config_spec.h</B>).
<br><br>
<font color="RED"><U>NOTE:</U></font> when a key is pressed it isnot released yet, the color of
matching braces is dropped. This causes <font color="GREEN">FLASH</font> effect.
This is an unwanted-effect which takes place naturally after fixing the BUG#87.
I (kyanh) found this is quite nice stuff. Please give comment
via forum (<a href="http://winefish.berlios.de/forum/">http://winefish.berlios.de/forum/</a>).
<H2><a name="TIPS">TIPS <a href="#top">top</a></H2>

<UL>
<li>Press <B>shift + control + Escape</B> to hide/show the Sidebar.
<li>Press <B>shift + Escape</B> to hide/show the Outputbox.
<li>Press <B>control + I</B> to insert an image.
<li><B>Doubleclick</B> on an image in the file browsers.
<li>Line which is quite long should be splitted into shorter lines.</UL>

<H2><a name="LOCAL SUPPORT">LOCAL SUPPORT <a href="#top">top</a></H2>

There are English, French, Italian and Vietnamese. For e.g.,
<PRE>$ LANG=vi_VN winefish # start winefish with Vietnamese frontend
$ LANG=it_IT winefish # for Italian users
$ LANG=fr_FR winefish # for French users</PRE>
<BR>
<BR>
<BR>
<HR>
This HTML file was generated from <font color="RED">winefish.txt</font> by <font color="RED">k2h</font> program.<br>
<font color="RED">$Id$</font>
<HR>
</BODY>
</HEAD>
